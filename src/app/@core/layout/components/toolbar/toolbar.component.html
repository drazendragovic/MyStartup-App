<mat-toolbar class="p-0 mat-elevation-z1">
	<div fxFlex fxFill fxLayout="row" fxLayoutAlign="start center">
		<div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">
			<button
				mat-icon-button
				class="navbar-toggle-button"
				*ngIf="!hiddenNavbar && !rightNavbar"
				(click)="toggleSidebarOpen('navbar')"
				fxHide.gt-md
			>
				<mat-icon class="secondary-text">menu</mat-icon>
			</button>

			<div
				class="toolbar-separator"
				*ngIf="!hiddenNavbar && !rightNavbar"
				fxHide.gt-md
			></div>

			<div
				fxLayout="row"
				fxLayoutAlign="start center"
				*ngIf="horizontalNavbar"
			>
				<div class="logo ml-24">
          <a [routerLink]="['/home']">
            <img class="logo-icon" [src]="photoUrl + 'StaticFiles/Logo/tvguide.svg'" alt="" />
          </a>
				</div>
			</div>
		</div>

		<div
			class=""
			fxFlex="0 1 auto"
			fxLayout="row"
			fxLayoutAlign="start center"
		>
			<button
      *ngIf="userLogged()"
				mat-button
				[matMenuTriggerFor]="userMenu"
				class="user-button"
			>
				<div fxLayout="row" fxLayoutAlign="center center">
					<img
						class="avatar mr-0 mr-sm-16"
						src="{{defaultAvatar || avatarPath}}" alt=""
					/>
					<span class="username mr-12" fxHide fxShow.gt-sm
						>Welcome {{_accountService.decodedToken.Name | titlecase}}</span
					>
					<mat-icon class="s-16" fxHide.xs
						>keyboard_arrow_down</mat-icon
					>
				</div>
			</button>

			<mat-menu #userMenu="matMenu" [overlapTrigger]="false">
				<button mat-menu-item>
					<mat-icon>account_circle</mat-icon>
					<span>My Profile</span>
				</button>

				<button mat-menu-item class="">
					<mat-icon>mail</mat-icon>
					<span>Inbox</span>
				</button>

				<button mat-menu-item class="" (click)="logout()">
					<mat-icon>exit_to_app</mat-icon>
					<span>Logout</span>
				</button>
			</mat-menu>

			<div *ngIf="userLogged()" class="toolbar-separator" fxHide fxShow.gt-xs></div>

      <button
      *ngIf="!userLogged()"
				mat-icon-button
				class="login-button mr-sm-8"
				(click)="openDialog('login')"
				aria-label="Toggle login panel"
			>
				<mat-icon class="secondary-text mr-4">login</mat-icon>
        <span fxHide fxShow.gt-xs class="link-title">Login</span>
			</button>

      <div class="toolbar-separator" fxHide fxShow.gt-xs></div>

      <button
      *ngIf="!userLogged()"
      mat-icon-button
      class="register-button ml-sm-8 mr-sm-24"
      (click)="openDialog('register')"
      aria-label="Toggle register panel"
    >
      <mat-icon class="secondary-text mr-4">how_to_reg</mat-icon>
      <span fxHide fxShow.gt-xs class="link-title">Register</span>
    </button>

      <div class="toolbar-separator" *ngIf="userLogged()" fxHide fxShow.gt-xs></div>

			<button
      *ngIf="userLogged()"
				mat-icon-button
				class="quick-panel-toggle-button"
				(click)="toggleSidebarOpen('settingsOptionsPanel')"
				aria-label="Toggle quick panel"
			>
				<mat-icon class="secondary-text">settings</mat-icon>
			</button>

			<div
				class="toolbar-separator"
				*ngIf="!hiddenNavbar && rightNavbar"
				fxHide
				fxShow.gt-xs
			></div>

			<button
				mat-icon-button
				class="navbar-toggle-button"
				*ngIf="!hiddenNavbar && rightNavbar"
				(click)="toggleSidebarOpen('navbar')"
				fxHide.gt-md
			>
				<mat-icon class="secondary-text">menu</mat-icon>
			</button>
		</div>
	</div>
</mat-toolbar>
